webpackJsonp([1],{"+bbD":function(t,e,i){"use strict";var n=i("//Fk"),a=i.n(n),r={data:function(){return{showModal:!1,tableLoading:!1,columns:[],tagList:[],modal:{id:"",isAdd:!1,show:!1,title:"",name:""}}},mounted:function(){this.initHeader(),this.getTagList()},methods:{getTagList:function(){var t=this;this.$http.post(this.$api.tag_listall,{}).then(function(e){"1"==e.data.result&&(t.tagList=e.data.data,t.$emit("list-change",e.data.data.map(function(t){return t})))}).catch(function(t){})},handleAdd:function(){this.modal.isAdd=!0,this.modal.show=!0,this.modal.title="新建标签",this.modal.id=""},initHeader:function(){var t=this;this.columns=[{title:"标签名",key:"name"},{title:"操作",key:"operate",render:function(e,i){return e("div",[e("Button",{props:{type:"error",size:"small"},on:{click:function(){}}},"删除"),e("Button",{props:{type:"primary",size:"small"},on:{click:function(){t.modal.isAdd=!1,t.modal.show=!0,t.modal.title="标签编辑："+i.row.name,t.modal.id=i.row.id,t.modal.name=i.row.name}}},"编辑")])}}]},handleHidden:function(t){t||(this.modal.isAdd=!1,this.modal.title="",this.modal.name="",this.modal.id="")},handleSubmit:function(){var t=this,e=this.modal.name;if(e.length){var i=void 0;this.modal.isAdd?i=this.$http.post(this.$api.tag_add,{name:e}).then(function(t){return"1"==t.data.result||a.a.reject(t.data.msg)},function(t){return a.a.reject("网络请求错误")}):!this.modal.isAdd&&this.modal.id&&(i=this.$http.post(this.$api.tag_edit,{id:this.modal.id,name:e}).then(function(t){return"1"==t.data.result||a.a.reject(t.data.msg)},function(t){return a.a.reject("网络请求错误")})),i&&i.then(function(e){t.$Message.success("保存成功"),t.modal.show=!1,t.getTagList()}).catch(function(e){t.$Message.error(e)})}else this.$Message.error("标签名不能为空")}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Button",{staticStyle:{width:"120px"},on:{click:function(e){t.showModal=!0}}},[t._v("管理商品标签")]),t._v(" "),i("Modal",{attrs:{title:"商品标签管理",width:"600"},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[i("div",{staticStyle:{"max-height":"600px"}},[i("Button",{attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v("新建标签")]),t._v(" "),i("Table",{staticStyle:{margin:"20px 0"},attrs:{"no-data-text":"暂无标签",columns:t.columns,data:t.tagList}})],1),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"})]),t._v(" "),i("Modal",{attrs:{title:t.modal.title},on:{"on-visible-change":t.handleHidden},model:{value:t.modal.show,callback:function(e){t.$set(t.modal,"show",e)},expression:"modal.show"}},[i("Input",{model:{value:t.modal.name,callback:function(e){t.$set(t.modal,"name","string"==typeof e?e.trim():e)},expression:"modal.name"}}),t._v(" "),i("div",{staticStyle:{"margin-top":"10px"}},[i("Button",{attrs:{type:"primary",size:"small"},on:{click:t.handleSubmit}},[t._v("确定")]),t._v(" "),i("Button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small"},on:{click:function(e){t.modal.show=!1}}},[t._v("取消")])],1),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)},staticRenderFns:[]},o=i("VU/8")(r,s,!1,null,null,null);e.a=o.exports},9135:function(t,e){},BO1k:function(t,e,i){t.exports={default:i("fxRn"),__esModule:!0}},Kzo7:function(t,e){},fxRn:function(t,e,i){i("+tPU"),i("zQR9"),t.exports=i("g8Ux")},g8Ux:function(t,e,i){var n=i("77Pl"),a=i("3fs2");t.exports=i("FeBl").getIterator=function(t){var e=a(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},kB1I:function(t,e){},kQFi:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("dc86"),a=i("mvHQ"),r=i.n(a),s=i("BO1k"),o=i.n(s),c=i("//Fk"),l=i.n(c),u=i("fZjL"),d=i.n(u),p={props:["spec"],data:function(){return{popVisible:!1,newAttrvalue:"",isError:!1}},computed:{},methods:{handleEditSpec:function(){this.newAttrvalue.length?(this.$emit("on-change",{id:this.spec.id,attrvalue:this.newAttrvalue,attrid:this.spec.attrid}),this.popVisible=!1):this.setError("名称不能为空")},handleCancel:function(){this.popVisible=!1},setError:function(t){this.isError=!0,this.$Message.error(t)},handleChose:function(){this.$emit("chosed")},handleDel:function(){var t=this,e=this;this.confirm("操作将会永久删除这个选项，请确认删除","删除").then(function(i){e.$emit("on-del",t.spec)}).catch(function(t){})},confirm:function(t,e){var i=this;return new l.a(function(n,a){i.$Modal.confirm({title:e||"确认",content:t,onOk:function(){return n(!0)},onCancel:function(){return a(!1)}})})}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tag-wrapper"},[i("span",{staticClass:"tag-main-content",on:{click:t.handleChose}},[t._t("default")],2),t._v(" "),i("span",{staticClass:"tag-append"},[i("Poptip",{on:{"on-popper-hide":function(e){t.newAttrvalue=""}},model:{value:t.popVisible,callback:function(e){t.popVisible=e},expression:"popVisible"}},[i("Icon",{staticClass:"tag-opr",attrs:{type:"edit",title:"修改名称"},on:{click:function(e){t.popVisible=!0}}}),t._v(" "),i("div",{class:{errorinput:t.isError},attrs:{slot:"content"},slot:"content"},[i("Input",{staticStyle:{"min-width":"240px"},on:{"on-focus":function(e){t.isError=!1}},model:{value:t.newAttrvalue,callback:function(e){t.newAttrvalue="string"==typeof e?e.trim():e},expression:"newAttrvalue"}},[i("span",{staticClass:"tag-append-oprate",attrs:{slot:"append"},slot:"append"},[i("span",{on:{click:t.handleEditSpec}},[t._v("确定")]),t._v(" "),i("span",{on:{click:t.handleCancel}},[t._v("取消")])])]),t._v(" "),i("div",{staticStyle:{color:"#ccc"}},[i("Icon",{attrs:{type:"ios-information-outline"}}),t._v("请输入修改名称\n\t\t\t\t    ")],1)],1)],1),t._v(" "),i("Icon",{staticClass:"tag-close tag-opr",attrs:{type:"close",title:"删除标签"},nativeOn:{click:function(e){t.handleDel(e)}}})],1)])},staticRenderFns:[]};var m={props:["speclist","attrid"],data:function(){return{isAdd:!1,newAttrvalue:"",isError:!1,specList:[],activeList:[]}},watch:{activeList:{handler:function(t){this.$emit("active-change",t)},deep:!0}},mounted:function(){this.getSpecList(this.attrid)},methods:{isActive:function(t){return this.activeList.findIndex(function(e){return e.id==t})>-1},handleChose:function(t){var e=this.activeList.findIndex(function(e){return e.id==t.id});-1==e?this.activeList.push({id:t.id,attrvalue:t.attrvalue,attrid:t.attrid}):this.activeList.splice(e,1)},handleAddSpec:function(){var t=this;this.newAttrvalue.length?this.postAddSpec({attrid:this.attrid,attrvalue:this.newAttrvalue}).then(function(e){return t.getSpecList(t.attrid)}).then(function(){t.handleCancel()}):this.setError("规格不能为空！")},handleCancel:function(){this.isAdd=!1,this.newAttrvalue=""},setError:function(t){this.isError=!0,this.$Message.error(t)},handleFocus:function(){this.isError=!1},handleEditSpec:function(t){var e=this;this.postEditSpec({specid:t.id,attrvalue:t.attrvalue}).then(function(t){return e.getSpecList(e.attrid)})},handleDel:function(t){var e=this,i=t.id;this.postDelSpec(i).then(function(t){return e.getSpecList(e.attrid)})},postAddSpec:function(t){return this.$http.post(this.$api.itemspec_add,t).then(function(t){return t.data.data}).catch(function(t){})},postDelSpec:function(t){return this.$http.post(this.$api.itemspec_del,{specid:t}).then(function(t){return t.data.data})},getSpecList:function(t){var e=this;return this.$http.post(this.$api.itemspec_list,{attrid:t}).then(function(t){e.specList=t.data.data})},postEditSpec:function(t){return this.$http.post(this.$api.itemspec_edit,t).then(function(t){return t.data.data})}},components:{"spec-tag":i("VU/8")(p,h,!1,function(t){i("kB1I")},null,null).exports}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._l(t.specList,function(e){return i("spec-tag",{key:e.id,staticClass:"tags",class:{chosedspec:t.isActive(e.id)},attrs:{spec:e},on:{"on-change":t.handleEditSpec,"on-del":t.handleDel,chosed:function(i){t.handleChose(e)}}},[t._v(t._s(e.attrvalue))])}),t._v(" "),i("Button",{directives:[{name:"show",rawName:"v-show",value:!t.isAdd,expression:"!isAdd"}],staticClass:"mr",attrs:{icon:"plus",type:"dashed"},on:{click:function(e){t.isAdd=!0}}},[t._v("新建标签")]),t._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:t.isAdd,expression:"isAdd"}],staticClass:"new-value mr",class:{errorinput:t.isError}},[i("Input",{on:{"on-focus":t.handleFocus},model:{value:t.newAttrvalue,callback:function(e){t.newAttrvalue="string"==typeof e?e.trim():e},expression:"newAttrvalue"}},[i("span",{staticClass:"append-oprate",attrs:{slot:"append"},slot:"append"},[i("span",{on:{click:t.handleAddSpec}},[t._v("确定")]),t._v(" "),i("span",{on:{click:t.handleCancel}},[t._v("取消")])])])],1)],2)},staticRenderFns:[]};var v=i("VU/8")(m,f,!1,function(t){i("9135"),i("qwMc")},"data-v-c424ab4a",null).exports,g=i("mXpl"),_=i("+bbD"),y={props:["itemid","cateid"],data:function(){return{newAttrname:"",attrList:[],speclist:{},activeAttr:[],commonPrice:"",commonQuantity:"",formData:{activeAttr:[]},tags:[],maxSelect:"",errorTips:"",swiperList:[],tagList:[]}},computed:{chosedAttr:function(){var t=this;return this.formData.activeAttr.map(function(e){return t.attrList.find(function(t){return t.attrid==e})})},skuData:function(){var t=this;return this.skuFormat(this.specArr).map(function(e){return e.price=t.commonPrice,e.quantity=t.commonQuantity,e.priceError=!1,e.quantityError=!1,e})},attrmap:function(){var t={};return this.attrList.forEach(function(e){t[e.attrid]=e.attrname}),t},specArr:function(){var t=this,e={},i=this.speclist;return d()(i).forEach(function(n){i[n].length>0&&(e[t.attrmap[n]]=i[n].map(function(t){return t.attrvalue}))}),e},tableColumns:function(){var t=this,e=(this.chosedAttr,[{key:"price",title:"价格",align:"center",iserror:!0,render:function(e,i){var n=t;return e("Input",{attrs:{value:i.row.price},class:{iserror:i.row.priceError},on:{"on-change":function(e){i.row.price=e.target.value.trim(),t.skuData[i.index].price=e.target.value.trim()},"on-blur":function(t){i.row.priceError=!i.row.price||isNaN(i.row.price),i.row.priceError&&n.$Message.error("价格不能为空且必须是数字")}}})},renderHeader:function(e,i){var n=t;return e("div",{attrs:{class:"sku-table-header"}},[e("span",{attrs:{class:"sku-header-title"}},"价格"),e("Input",{class:{iserror:isNaN(n.commonPrice)},attrs:{class:"sku-header-input",value:n.commonPrice,placeholder:"批量输入价格"},on:{"on-change":function(t){n.commonPrice=t.target.value.trim()},"on-blur":function(t){isNaN(n.commonPrice)&&n.$Message.error("价格不能为空且必须是数字")}}})])}},{key:"quantity",title:"数量",align:"center",render:function(e,i){var n=t;return e("Input",{attrs:{value:i.row.quantity},class:{iserror:i.row.quantityError},on:{"on-change":function(e){i.row.quantity=e.target.value.trim(),t.skuData[i.index].quantity=e.target.value.trim()},"on-blur":function(t){i.row.quantityError=!i.row.quantity||isNaN(i.row.quantity),i.row.quantityError&&n.$Message.error("数量不能为空且必须是数字")}}})},renderHeader:function(e,i){var n=t;return e("div",{attrs:{class:"sku-table-header"}},[e("span",{attrs:{class:"sku-header-title"}},"数量"),e("Input",{class:{iserror:isNaN(n.commonQuantity)},attrs:{class:"sku-header-input",value:n.commonQuantity,placeholder:"批量输入数量"},on:{"on-change":function(t){n.commonQuantity=t.target.value.trim()},"on-blur":function(t){isNaN(n.commonQuantity)&&n.$Message.error("数量不能为空且必须是数字")}}})])}}]),i=this.speclist,n=[],a=this.attrmap;return d()(i).forEach(function(t){i[t].length&&n.push({key:a[t],title:a[t],align:"center"})}),n.concat(e)}},watch:{"formData.activeAttr":{handler:function(t){var e=this;t.forEach(function(t){t in e.speclist||e.$set(e.speclist,t,[])}),d()(this.speclist).forEach(function(i){-1==t.indexOf(Number(i))&&-1==t.indexOf(i)&&(e.speclist[i]=[])})},deep:!0}},mounted:function(){this.getAttrList(),this.getItemSwiperList()},methods:{handleAddAttr:function(){var t=this;this.$http.post(this.$api.itemattr_add,{cateid:this.cateid,attrname:this.newAttrname}).then(function(e){return t.getAttrList()}).then(function(){t.newAttrname=""})},handleTaglist:function(t){this.tagList=t},getItemSwiperList:function(){var t=this;this.$http.post(this.$api.itempicture_list,{itemid:this.itemid}).then(function(e){"1"===e.data.result?t.swiperList=e.data.data:l.a.reject(e.data.msg)}).catch(function(e){t.$Message.error(e)})},handleDelPic:function(t){var e=this;this.$http.post(this.$api.itempicture_del,{itemid:this.itemid,picid:t}).then(function(t){return e.getItemSwiperList()}).then(function(){e.$Message.success("删除成功")}).catch(function(t){e.$Message.error(t)})},handleAddPic:function(t){var e=this;this.$http.post(this.$api.itempicture_add,{itemid:this.itemid,picurl:t}).then(function(t){return e.getItemSwiperList()}).then(function(){e.$Message.success("添加成功")}).catch(function(t){e.$Message.error(t)})},handleChangePic:function(t){var e=this;this.$http.post(this.$api.itempicture_edit,{itemid:this.itemid,picid:t.id,picurl:t.picurl}).then(function(t){return e.getItemSwiperList()}).then(function(){e.$Message.success("更换成功")}).catch(function(t){e.$Message.error(t)})},handleActive:function(t,e){e in this.speclist&&(this.speclist[e]=t)},skuFormat:function(t){var e=d()(t),i=(e.length,[]);return e.forEach(function(e){i=function(t,e,i){var n=[],a=!0,s=!1,c=void 0;try{for(var l,u=o()(e);!(a=(l=u.next()).done);a=!0){var d=l.value;if(i.length){var p=!0,h=!1,m=void 0;try{for(var f,v=o()(i);!(p=(f=v.next()).done);p=!0){var g=f.value,_=JSON.parse(r()(g));_[t]=d,n.push(_)}}catch(t){h=!0,m=t}finally{try{!p&&v.return&&v.return()}finally{if(h)throw m}}}else{var y={};y[t]=d,n.push(y)}}}catch(t){s=!0,c=t}finally{try{!a&&u.return&&u.return()}finally{if(s)throw c}}return n}(e,t[e],i)}),i},handleDelChosed:function(t){var e=this.formData.activeAttr;e.splice(e.indexOf(t),1)},handleImgChange:function(){},validateSku:function(t){return t.every(function(t){return""!==t.price&&!isNaN(t.price)&&""!==t.quantity&&!isNaN(t.quantity)})?l.a.resolve(!0):l.a.reject(!1)},transferSku:function(t){var e=this,i=[],n=["price","quantity","priceError","quantityError"];return t?(t.forEach(function(t){var a={},s={};a.price=t.price,a.quantity=t.quantity,d()(t).forEach(function(e){-1==n.indexOf(e)&&(s[e]=t[e])}),a.attrvalue=r()(s),a.itemid=e.itemid,i.push(a)}),i):[]},postSkuAdd:function(t){this.$http.post(this.$api.itemsku_add,t).then(function(t){})},handleSubmit:function(){var t=this,e=this.skuData,i=l.a.resolve(!0);if(this.tags.length){var n=this.tags.join(","),a=this.itemid;i=this.$http.post(this.$api.itemtag_add,{itemid:a,tagids:n}).then(function(t){})}return e.length?this.validateSku(e).then(function(n){return l.a.all(t.transferSku(e).map(function(e){return t.postSkuAdd(e)})).then(function(e){t.$Message.success("保存成功！"),i.then(function(){t.$router.push("/item/edit?id="+t.itemid)})}).catch(function(t){})}).catch(function(e){t.$Message.error("价格或数量格式错误！"),t.errorTips="价格或数量格式错误！",setTimeout(function(){t.errorTips=""},1e3)}):this.confirm("您还没有选择商品的规格和创建sku库存价格，确定要忽略商品规格吗？","提醒").then(function(){t.$router.push("/item/edit?id="+t.itemid)}).catch(function(t){})},handleReset:function(){},getAttrList:function(){var t=this;return this.$http.post(this.$api.itemattr_list,{cateid:this.cateid}).then(function(e){var i=t.renderAttr(e.data.data);t.attrList=i})},handleSelectChange:function(t){var e=this;t.length>3&&(this.maxSelect="选择的规格不能超过3个",setTimeout(function(){e.maxSelect=""},2e3),t.pop())},confirm:function(t,e){var i=this;return new l.a(function(n,a){i.$Modal.confirm({title:e||"确认",content:t,onOk:function(){return n(!0)},onCancel:function(){return a(!1)}})})},renderAttr:function(t){return t.map(function(t){return{attrid:t.id,attrname:t.attrname}})}},components:{"spec-add":v,"swiper-uploader":g.a,"item-tags":_.a}},w={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Form",{ref:"skuForm",attrs:{"label-position":"left","label-width":100,model:t.formData}},[i("FormItem",{attrs:{label:"商品轮播图"}},[i("div",[i("swiper-uploader",{attrs:{images:t.swiperList},on:{"on-del":t.handleDelPic,"on-add":t.handleAddPic,"on-change":t.handleChangePic}})],1)]),t._v(" "),i("FormItem",{attrs:{label:"商品规格",prop:"activeAttr",error:t.maxSelect}},[i("Row",[i("Col",{attrs:{span:15}},[i("Select",{attrs:{multiple:"",size:"large",filterable:"",placement:"top"},on:{"on-change":t.handleSelectChange},model:{value:t.formData.activeAttr,callback:function(e){t.$set(t.formData,"activeAttr",e)},expression:"formData.activeAttr"}},[t._l(t.attrList,function(e){return i("Option",{key:e.attrid,attrs:{value:e.attrid}},[t._v(t._s(e.attrname))])}),t._v(" "),i("Input",{staticStyle:{width:"50%",margin:"10px auto"},model:{value:t.newAttrname,callback:function(e){t.newAttrname="string"==typeof e?e.trim():e},expression:"newAttrname"}},[i("span",{attrs:{slot:"append"},slot:"append"},[i("span",{staticStyle:{cursor:"pointer"},on:{click:t.handleAddAttr}},[t._v("新增")])])])],2)],1)],1)],1),t._v(" "),t._l(t.chosedAttr,function(e){return i("FormItem",{key:e.attrid},[i("div",{staticClass:"attrs-item"},[i("Row",{attrs:{type:"flex",justify:"center",align:"middle"}},[i("Col",{attrs:{span:4}},[i("span",{staticClass:"chosed-attr"},[t._v(t._s(e.attrname)+" "),i("Icon",{staticClass:"close-attr",attrs:{type:"close"},nativeOn:{click:function(i){t.handleDelChosed(e.attrid)}}})],1)]),t._v(" "),i("Col",{attrs:{span:20}},[i("spec-add",{staticClass:"spec-add",attrs:{attrid:e.attrid},on:{"active-change":function(i){t.handleActive(i,e.attrid)}}})],1)],1)],1)])}),t._v(" "),i("FormItem",{attrs:{label:"商品标签"}},[i("Select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择商品标签",size:"large",transfer:"",multiple:""},model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}},[t._l(t.tagList,function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}),t._v(" "),t.tagList.length?t._e():i("div",{staticStyle:{"text-align":"center",color:"#999"}},[t._v("暂无商品标签")])],2),t._v(" "),i("item-tags",{staticStyle:{display:"inline-block"},on:{"list-change":t.handleTaglist}})],1),t._v(" "),i("FormItem",{attrs:{label:"规格价格",error:t.errorTips}},[i("Table",{attrs:{border:"",columns:t.tableColumns,data:t.skuData}})],1),t._v(" "),i("FormItem",[i("Button",{staticStyle:{width:"120px"},attrs:{type:"primary",size:"large"},on:{click:function(e){t.handleSubmit("skuForm")}}},[t._v("下一步")]),t._v(" "),i("Button",{staticStyle:{"margin-left":"8px",width:"80px"},attrs:{type:"ghost",size:"large"},on:{click:function(e){t.handleReset("skuForm")}}},[t._v("取消")])],1)],2)],1)},staticRenderFns:[]};var k=i("VU/8")(y,w,!1,function(t){i("qSdz"),i("vQhQ")},"data-v-56afe6b8",null).exports,$=i("woOf"),b=i.n($),S={data:function(){return{item:{title:"",cateid:"",itemtype:1,itemmodel:1,marketprice:0,price:0,num:0,picurl:"",description:"",isrecommend:0,ishidden:0},ruleValidate:{title:[{required:!0,message:"标题名称不能为空！",trigger:"blur"}],itemtype:[{type:"number",required:!0,message:"请选择商品类型",trigger:"blur"}],description:[{required:!0,message:"请输入商品介绍",trigger:"blur"}]},categoryList:[]}},components:{"single-uploader":n.a},mounted:function(){this.getCategoryList()},methods:{handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(t)return e.addBaseInfo(e.item);e.$Message.error("请输入完整再提交！")})},addBaseInfo:function(t){var e=this;return this.$http.post(this.$api.item_add,b()({},t,{signescape:["description"]})).then(function(t){"1"==t.data.result&&(e.$Message.success("添加成功"),e.$router.push("/item/list"))})},getItemDetail:function(t){return this.$http.post(this.$api.item_detail,{itemid:t})},handleReset:function(t){this.$router.push("/item/list")},contentChange:function(t){this.item.description=t},getCategoryList:function(){var t=this,e=this;this.$http.post(this.$api.category_list,{parentid:0,pageindex:0,pagesize:10}).then(function(t){e.categoryList=t.data.data?t.data.data:[]}).catch(function(e){t.$Message.error("error")})},handleUpload:function(t){this.file=t,this.item.picurl=t.url},handleImgChange:function(t){this.item.picurl=t.url}}},A={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Form",{ref:"formValidate",attrs:{model:t.item,rules:t.ruleValidate,"label-position":"left","label-width":130}},[i("FormItem",{attrs:{label:"商品名称",prop:"title"}},[i("Input",{attrs:{placeholder:"请输入商品名称",size:"large"},model:{value:t.item.title,callback:function(e){t.$set(t.item,"title",e)},expression:"item.title"}})],1),t._v(" "),i("FormItem",{attrs:{label:"商品类型",prop:"itemtype"}},[i("RadioGroup",{model:{value:t.item.itemtype,callback:function(e){t.$set(t.item,"itemtype",e)},expression:"item.itemtype"}},[i("Radio",{attrs:{label:1}},[t._v("产品")])],1)],1),t._v(" "),i("FormItem",{attrs:{label:"商品分类",prop:"cateid"}},[i("Row",[i("Col",{attrs:{span:18}},[i("Select",{attrs:{size:"large",placeholder:"请选择商品分类"},model:{value:t.item.cateid,callback:function(e){t.$set(t.item,"cateid",e)},expression:"item.cateid"}},t._l(t.categoryList,function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.catename))])}))],1),t._v(" "),i("Col",{staticStyle:{"text-align":"center"},attrs:{span:6}})],1)],1),t._v(" "),i("FormItem",{attrs:{label:"市场价格",prop:"marketprice"}},[i("InputNumber",{attrs:{size:"large",min:0},model:{value:t.item.marketprice,callback:function(e){t.$set(t.item,"marketprice",e)},expression:"item.marketprice"}})],1),t._v(" "),i("FormItem",{attrs:{label:"出售价格",prop:"price"}},[i("InputNumber",{attrs:{size:"large",min:0},model:{value:t.item.price,callback:function(e){t.$set(t.item,"price",e)},expression:"item.price"}}),t._v(" "),i("span",{staticStyle:{color:"#ccc","margin-left":"20px"}},[t._v("此价格为普通商品价格，活动价请移步营销活动设置")])],1),t._v(" "),i("FormItem",{attrs:{label:"库存数量",prop:"num"}},[i("InputNumber",{attrs:{size:"large",min:0,step:1},model:{value:t.item.num,callback:function(e){t.$set(t.item,"num",e)},expression:"item.num"}})],1),t._v(" "),i("FormItem",{attrs:{label:"商品主图",prop:"picurl"}},[i("Upload",{attrs:{"before-upload":t.handleUpload,action:"//jsonplaceholder.typicode.com/posts/"}},[i("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("点击上传")])],1)],1),t._v(" "),i("FormItem",{attrs:{label:"上架商品",prop:"ishidden"}},[i("i-Switch",{attrs:{size:"large","true-value":0,"false-value":1},model:{value:t.item.ishidden,callback:function(e){t.$set(t.item,"ishidden",e)},expression:"item.ishidden"}},[i("span",{attrs:{slot:"open"},slot:"open"},[t._v("上架")]),t._v(" "),i("span",{attrs:{slot:"close"},slot:"close"},[t._v("下架")])])],1),t._v(" "),i("FormItem",{attrs:{label:"首页推荐",prop:"isrecommend"}},[i("i-Switch",{attrs:{size:"large","true-value":1,"false-value":0},model:{value:t.item.isrecommend,callback:function(e){t.$set(t.item,"isrecommend",e)},expression:"item.isrecommend"}},[i("span",{attrs:{slot:"open"},slot:"open"},[t._v("是")]),t._v(" "),i("span",{attrs:{slot:"close"},slot:"close"},[t._v("否")])])],1),t._v(" "),i("FormItem",{attrs:{label:"商品详情",prop:"description"}},[i("vue-editor",{attrs:{content:t.item.description},on:{change:t.contentChange}})],1),t._v(" "),i("FormItem",[i("Button",{staticStyle:{width:"120px"},attrs:{type:"primary",size:"large"},on:{click:function(e){t.handleSubmit("formValidate")}}},[t._v("下一步")]),t._v(" "),i("Button",{staticStyle:{"margin-left":"8px",width:"80px"},attrs:{type:"ghost",size:"large"},on:{click:function(e){t.handleReset("formValidate")}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var x=i("VU/8")(S,A,!1,function(t){i("Kzo7")},null,null).exports,I={data:function(){return{showAddSku:!0,itemid:"",cateid:"",step:0,itemSku:""}},components:{"single-uploader":n.a,"sku-add":k,"base-form":x},mounted:function(){this.$sitemap.prvname="商品管理",this.$sitemap.currname="添加商品",this.$menuactive.open=["ItemBlock"],this.$menuactive.active="ItemAdd"},methods:{handleCreate:function(t){this.step=1,this.itemid=t.itemid,this.cateid=t.cateid}}},L={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{margin:"20px"}},[e("Steps",{staticStyle:{"margin-bottom":"50px"},attrs:{current:this.step}},[e("Step",{attrs:{title:"基本信息",content:"编辑商品的基本信息"}}),this._v(" "),e("Step",{attrs:{title:"更多商品信息",content:"添加商品的轮播，标签，规格属性等内容"}})],1),this._v(" "),0==this.step?e("base-form",{on:{"on-create":this.handleCreate}}):this._e(),this._v(" "),1==this.step&&this.itemid&&this.cateid?e("sku-add",{attrs:{itemid:this.itemid,cateid:this.cateid}}):this._e()],1)},staticRenderFns:[]};var C=i("VU/8")(I,L,!1,function(t){i("wiIa")},null,null);e.default=C.exports},qSdz:function(t,e){},qwMc:function(t,e){},vQhQ:function(t,e){},wiIa:function(t,e){}});
//# sourceMappingURL=1.d76874ec8a6f79e2be4f.js.map