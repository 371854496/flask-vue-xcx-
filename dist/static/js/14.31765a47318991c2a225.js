webpackJsonp([14],{mGdM:function(t,e){},ow5t:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{padding:"20px"}},[i("Button",{attrs:{type:"primary",icon:"ios-plus-empty"},on:{click:t.handleAddArticleType}},[t._v("\n        添加内容\n      ")]),t._v(" "),i("div",{staticStyle:{height:"20px"}}),t._v(" "),i("Table",{ref:"selection",attrs:{loading:t.loading,border:"",columns:t.articlecolumns,data:t.articledata}}),t._v(" "),i("div",{staticStyle:{"margin-top":"15px",overflow:"hidden"}},[i("div",{staticStyle:{float:"left"}}),t._v(" "),i("div",{staticStyle:{float:"right"}},[i("Page",{attrs:{total:t.totalcount,"page-size":t.page.pagesize,"page-size-opts":[10,20,30,40],"show-elevator":"","show-sizer":"",placement:"top","show-total":""},on:{"on-change":t.indexChange,"on-page-size-change":t.sizeChange}})],1)]),t._v(" "),i("Modal",{attrs:{title:"确认提示",width:"300","class-name":"vertical-center-modal"},on:{"on-ok":t.delRow},model:{value:t.showConfirm,callback:function(e){t.showConfirm=e},expression:"showConfirm"}},[i("p",{staticStyle:{"font-size":"14px"}},[t._v("确认要删除该条记录吗？")])])],1)},staticRenderFns:[]};var a=i("VU/8")({data:function(){var t=this;return{showConfirm:!1,currrowid:0,totalcount:0,loading:!1,page:{pagesize:10,pageindex:0},articletype:[],articlecolumns:[{title:"#",width:60,align:"center",render:function(e,i){return i.index+t.page.pagesize*t.page.pageindex+1}},{title:"标题图片",width:100,align:"center",render:function(t,e){return e.row.picture?t("img",{attrs:{src:e.row.picture,style:"width: 70px;height: 70px;border-radius: 5px;vertical-align: middle;margin:5px 0;"}}):t("div",{attrs:{style:"width: 70px;height: 70px;border:1px solid #666;margin:5px 0;vertical-align: middle;display:inline-block"}})}},{title:"标题名称",key:"title",align:"center"},{title:"修改日期",key:"updatetime",align:"center",width:220},{title:"操作",key:"action",width:150,align:"center",render:function(e,i){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.showPage(i.row.id)}}},"查看"),e("Button",{props:{type:"warning",size:"small"},on:{click:function(){t.showConfirm=!0,t.currrowid=i.row.id}}},"删除")])}}],articledata:[]}},mounted:function(){this.$sitemap.prvname="内容管理",this.$sitemap.currname="内容列表",this.$menuactive.open=["ArticleBlock"],this.$menuactive.active="ArticleList",this.$Loading.start(),this.getArticleList()},watch:{page:{handler:function(t){this.getArticleList()},deep:!0}},methods:{indexChange:function(t){this.page.pageindex=t-1},sizeChange:function(t){this.page.pagesize=t},showType:function(t){var e=this.articletype.find(function(e){return e.id===t});return e?e.name:""},handleAddArticleType:function(){this.$router.push("/article/add")},handleSelectAll:function(t){this.$refs.selection.selectAll(t)},getArticleList:function(){var t=this;this.loading=!0,this.$http.post("article/list",this.page).then(function(e){t.articledata=e.data.data,t.loading=!1,t.$Loading.finish(),t.totalcount=+e.data.totalcount}).catch(function(e){t.loading=!1,t.$Loading.error()})},showPage:function(t){this.$router.push({path:"/article/edit",query:{id:t}})},getArticleTypeList:function(){var t=this;this.$http.post("articletype/list",{}).then(function(e){t.articletype=e.data.data,t.$Loading.finish()})},delRow:function(){var t=this,e={artid:this.currrowid,pagesize:10,pageindex:0};this.$http.post("article/del",e).then(function(e){1==e.data.result?(t.$Message.success("删除成功!"),t.getArticleList()):t.$Message.error("删除失败，请检查！")}).catch(function(e){t.loading=!1,t.$Message.error(e)})}}},n,!1,function(t){i("mGdM")},null,null);e.default=a.exports}});
//# sourceMappingURL=14.31765a47318991c2a225.js.map