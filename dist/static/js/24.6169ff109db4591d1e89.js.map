{"version":3,"sources":["webpack:///src/components/sales/coupon/CouponAdd.vue","webpack:///./src/components/sales/coupon/CouponAdd.vue?4318","webpack:///./src/components/sales/coupon/CouponAdd.vue"],"names":["CouponAdd","Date","now","getFullYear","getMonth","getDate","required","message","trigger","getCategoryList","_this","this","valid","addData","formatParams","$http","post","$api","coupon_add","params","then","res","msg","catch","err","_this2","key","remark","couponname","_this3","category_list","error","coupontype","value","preTitle","usertype","minprice","expiretimes","diyRemark","remarkMid","coupon_CouponAdd","render","_vm","_h","$createElement","_c","_self","staticStyle","padding","staticClass","ref","attrs","model","label-position","rules","label-width","label","width","callback","$$v","$set","expression","_l","type","disabled","_v","_s","placeholder","min","_e","scope","couponscope","multiple","on","on-change","handleCateChange","chosedCate","cate","id","catename","chosedItem","margin-right","scene","couponscene","color","couponmodel","margin-left","font-size","isissued","click","handleSubmit","src","brandname","border","cutprice","_m","prop","trim","diyCouponname","readonly","size","$event","showDiy","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/24.6169ff109db4591d1e89.js","sourcesContent":["<template>\r\n\t<div style=\"padding:10px;\">\r\n\t\t<div class=\"coupon-main\">\r\n\t\t\t<div class=\"coupon-edit\">\r\n\t\t\t\t<Form ref=\"couponAdd\" :model=\"addData\" label-position=\"left\" :rules='rules' :label-width=\"120\">\r\n\t\t\t\t\t<FormItem label='优惠券类型'>\r\n\t\t\t\t        <Select v-model=\"addData.coupontype\" style='width:300px;'>\r\n\t\t\t\t        \t<Option v-for='type in typeMap' :value='type.key' :key='type.key' :disabled='!!type.disabled'>{{type.value}}</Option>\r\n\t\t\t\t        </Select>\r\n\t\t\t\t\t</FormItem>\r\n          <FormItem label='每月限使用（张）' v-if='addData.coupontype==3'>\r\n\t\t\t\t\t \t<InputNumber v-model='addData.uselimit' style='width:200px;' placeholder='请输入数量' :min='1'></InputNumber>\r\n\t\t\t\t\t </FormItem>\r\n\t\t\t\t\t<FormItem label='适用范围'>\r\n\t\t\t\t        <Select v-model=\"addData.couponscope\" style='width:300px;'>\r\n\t\t\t\t        \t<Option v-for='scope in scopeMap' :value='scope.key' :key='scope.key' :disabled='!!scope.disabled'>{{scope.value}}</Option>\r\n\t\t\t\t        </Select>\r\n\t\t\t\t        <div v-if='addData.couponscope==2'>\r\n\t\t\t\t        \t请选择商品分类：<Select v-model='chosedCate' style='width:300px;' multiple @on-change='handleCateChange'>\r\n\t\t\t\t        \t\t<Option v-for='cate of cateList' :value=\"cate.id\" :key='cate.id'>\r\n\t\t\t\t        \t\t\t{{cate.catename}}\r\n\t\t\t\t        \t\t</Option>\r\n\t\t\t\t        \t</Select>\r\n\t\t\t\t        </div>\r\n\t\t\t\t        <div v-if='addData.couponscope==3'>\r\n\t\t\t\t        \t<multi-item-select v-model='chosedItem'></multi-item-select>\r\n\t\t\t\t        </div>\r\n\t\t\t\t\t</FormItem>\r\n\r\n\t\t\t\t\t<FormItem label='适用人群'>\r\n\t\t\t\t\t\t<RadioGroup v-model=\"addData.usertype\">\r\n\t\t\t\t          <Radio v-for='type in userMap' :key='type.key' :label='type.key' style='margin-right:20px;'>{{type.value}}</Radio>\r\n\t\t\t\t        </RadioGroup>\r\n\t\t\t\t\t</FormItem>\r\n\r\n\t\t\t\t\t<FormItem label='获取方式'>\r\n\t\t\t\t        <Select v-model=\"addData.couponscene\" style='width:300px;'>\r\n\t\t\t\t        \t<Option v-for='scene in sceneMap' :value='scene.key' :key='scene.key' :disabled='!!scene.disabled'>{{scene.value}}</Option>\r\n\t\t\t\t        </Select>\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t <FormItem label='购券价格（元）' v-if='addData.couponscene==2'>\r\n\t\t\t\t\t \t<InputNumber v-model='addData.price' style='width:200px;' placeholder='请输入优惠券价格' :min='0'></InputNumber>\r\n\t\t\t\t\t </FormItem>\r\n\t\t\t\t\t<FormItem label='满减金额'>\r\n\t\t\t\t\t\t<div v-if='addData.coupontype==1'>\r\n\t\t\t\t\t\t\t满 <InputNumber v-model='addData.minprice' style='width:200px;' :min='0'></InputNumber> 元可用\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div v-else style=\"color:#3bc0c3\">\r\n\t\t\t\t\t\t\t无限制\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t<FormItem label='优惠方式'>\r\n\t\t\t\t\t\t<RadioGroup v-model=\"addData.couponmodel\">\r\n\t\t\t\t          <Radio v-for='model in modelMap' :key='model.key' :label='model.key' style='margin-right:20px;' :disabled='!!model.disabled'>{{model.value}}</Radio>\r\n\t\t\t\t        </RadioGroup>\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t<FormItem label='折扣（%）' v-if='addData.couponmodel==2'>\r\n\t\t\t\t\t\t<Input v-model='addData.cutprice' style='width:200px;' placeholder='0-100的数字，20代表8折'></Input>\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t<FormItem label='优惠金额（元）' v-if='addData.couponmodel==1'>\r\n\t\t\t\t\t\t<InputNumber v-model='addData.cutprice' style='width:200px;' placeholder='优惠券能金额' :min='0'></InputNumber>\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t<FormItem label='有效时长（天）'>\r\n\t\t\t\t\t\t<InputNumber v-model='addData.duration' style='width:200px;' placeholder='优惠券的有效期' :min='0'></InputNumber>\r\n\t\t\t\t\t\t<span style='margin-left:10px;color:#ccc;font-size:14px;'>领券后多少天内可用，0代表不限制</span>\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t<FormItem label='每人限领（张）'>\r\n\t\t\t\t\t\t<InputNumber v-model='addData.maxnum' style='width:200px;' :min='0'></InputNumber><span style='margin-left:10px;color:#ccc;font-size:14px;'>0代表不限制每人张数</span>\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t<FormItem label='发放总数（张）'>\r\n\t\t\t\t\t\t<InputNumber v-model='addData.couponnum' style='width:200px;' :min='1'></InputNumber>\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t<FormItem label='是否立即投放'>\r\n\t\t\t\t\t\t<RadioGroup v-model=\"addData.isissued\">\r\n\t\t\t\t\t\t\t<Radio :label='0' style='margin-right:20px;'>暂不投放</Radio>\r\n\t\t\t\t          \t<Radio :label='1' style='margin-right:20px;'>立即投放</Radio>\r\n\t\t\t\t        </RadioGroup>\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t<FormItem label='活动时长' v-if='addData.isissued==1'>\r\n\t\t\t\t\t\t<InputNumber v-model='addData.expiretimes' style='width:200px;' :min='1'></InputNumber>\r\n\t\t\t\t\t\t<span style='margin-left:10px;color:#ccc;font-size:14px;'>优惠券投放天数，最小为1</span>\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t<FormItem>\r\n\t\t\t\t\t\t<Button type='primary' @click='handleSubmit'>提交保存</Button>\r\n\t\t\t\t\t</FormItem>\r\n\t\t\t\t</Form>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"coupon-preview\">\r\n\t\t\t\t<div class=\"preview-card\">\r\n\t\t\t\t\t<div class=\"card-left\">\r\n\t\t\t\t\t\t<img src=\"/static/images/card-jc.png\" class=\"card-jc\">\r\n\t\t\t\t\t\t<div class=\"card-name col\" v-if='addData.brandname'>{{addData.brandname}}</div>\r\n\t\t\t\t\t\t<div class=\"card-name col\" style='border:1px dashed;color:#ccc' v-else>店铺简称</div>\r\n\t\t\t\t\t\t<div class=\"card-money col\"><span style=\"font-size:18px;\">￥</span> <span v-if='addData.cutprice'>\t{{addData.cutprice}}</span>\r\n\t\t\t\t\t\t\t\t<span v-else style='border:1px dashed;color:#ccc;font-size:14px;'>优惠金额\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"card-status col\">未使用</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"card-right\">\r\n\t\t\t\t\t\t<div class=\"right-title col\" >{{couponname}}</div>\r\n\t\t\t\t\t\t<div class=\"right-desc col\"><span >{{remark}}</span>\r\n\t\t\t\t\t\t\t<!-- <span v-else style='border:1px dashed;color:#ccc;font-size:14px;'>由适用人群、条件、金额等决定</span> -->\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"right-expires col\"><span>xxx</span>至<span>xxx</span>有效</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Form label-position=\"left\" :rules='rules' ref='right' :label-width=\"120\" :model='addData'>\r\n\t\t\t\t\t\t<FormItem label='店铺简称' prop='brandname'>\r\n\t\t\t\t\t\t\t<Input v-model.trim='addData.brandname' style='width:200px;'></Input>\r\n\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\t<FormItem label='优惠券名称'>\r\n\t\t\t\t\t\t\t<Input v-model.trim='diyCouponname' style='width:200px;'></Input>\r\n\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\t<FormItem label='优惠券副标题'>\r\n\t\t\t\t\t\t\t<Input v-model='remark' style='width:200px;' readonly></Input> <Button size='small' @click='showDiy=!showDiy'>{{showDiy?'取消':'自定义'}}</Button>\r\n\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t\t<FormItem v-if='showDiy' >\r\n\t\t\t\t\t\t\t<Input v-model='diyRemark' style='width:200px;'></Input> <Button size='small'>确定</Button><Button size='small' style='margin-left:5px'>清空</Button>\r\n\t\t\t\t\t\t</FormItem>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- <Modal v-model='showDiy'>\r\n\t\t\t<Input v-model.trim='diyRemark' style='width:200px;' placeholder='请输入自定义说明'></Input>\r\n\t\t</Modal> -->\r\n\t</div>\r\n</template>\r\n<script >\r\nexport default {\r\n  data() {\r\n    let curdate;\r\n    let now = new Date();\r\n    curdate =\r\n      \"\" + now.getFullYear() + \"/\" + (now.getMonth() + 1) + \"/\" + now.getDate();\r\n\r\n    return {\r\n      curdate: curdate,\r\n      showDiy: false,\r\n      addData: {\r\n        brandname: \"\",\r\n        coupontype: 1, //优惠券类型\r\n        minprice: 0, //优惠券使用情况(满XX元可用)\r\n        couponmodel: 1, //优惠券优惠方式\r\n        cutprice: 0, //优惠力度\r\n        maxnum: 0, //限领数量(0无限制)\r\n        couponscene: 5, //投放场景(1注册返券，2购买券，3下单领取,4点击领取,5会员礼包,6.扫码领券)\r\n        couponscope: 1, //卡券使用范围(1全场通用，2分类，3单品)\r\n        usertype: 1, //适用人群(1所有人，2新注册用户)\r\n        duration: 1, //有效时间戳\r\n        remark: \"\", //使用说明\r\n        couponnum: 1, //优惠券数量\r\n        price: 0,\r\n        isissued: 0,\r\n        expiretimes: 1,\r\n        uselimit:1, //月优惠券每月使用限制\r\n      },\r\n      // testItem:[130,128,74],\r\n      diyCouponname: \"\",\r\n      diyRemark: \"\",\r\n      chosedCate: [],\r\n      chosedItem: [],\r\n      couponcateids: [],\r\n      couponitemids: [],\r\n      cateList: [],\r\n      rules: {\r\n        brandname: [\r\n          { required: true, message: \"请输入券中店铺简称\", trigger: \"blur\" }\r\n        ]\r\n      },\r\n      //优惠券类型的map表\r\n      typeMap: [\r\n        {\r\n          key: 1,\r\n          value: \"满减券\"\r\n        },\r\n        {\r\n          key: 2,\r\n          value: \"代金券\"\r\n        },\r\n        {\r\n          key:3,\r\n          value:\"月券（每月使用限制）\"\r\n        }\r\n      ],\r\n      //适用人群的map表\r\n      userMap: [\r\n        {\r\n          key: 1,\r\n          value: \"所有用户\"\r\n        },\r\n        {\r\n          key: 2,\r\n          value: \"新注册用户\"\r\n        }\r\n      ],\r\n      //优惠券优惠方式map表\r\n      modelMap: [\r\n        {\r\n          key: 1,\r\n          value: \"抵扣\"\r\n        },\r\n        {\r\n          key: 2,\r\n          value: \"折扣\",\r\n          disabled: true\r\n        }\r\n      ],\r\n      //场景map\r\n      sceneMap: [\r\n        {\r\n          key: 1,\r\n          value: \"新用户注册\"\r\n        },\r\n        {\r\n          key: 5,\r\n          value: \"会员礼包\"\r\n        },\r\n        {\r\n          key: 6,\r\n          value: \"扫码领券\"\r\n        }\r\n        //     {\r\n        // \tkey:1,\r\n        // \tvalue:'注册返券',\r\n        // },{\r\n        // \tkey:2,\r\n        // \tvalue:'购买券',\r\n        // },{\r\n        // \tkey:4,\r\n        // \tvalue:'下单返券',\r\n        // \tdisabled:true,\r\n        // },{\r\n        // \tkey:3,\r\n        // \tvalue:'点击领券',\r\n\r\n        // }\r\n      ],\r\n      //使用范围map\r\n      scopeMap: [\r\n        {\r\n          key: 1,\r\n          value: \"全场通用\"\r\n        },\r\n        {\r\n          key: 2,\r\n          value: \"部分品类\"\r\n        },\r\n        {\r\n          key: 3,\r\n          value: \"部分商品\"\r\n          // disabled:true,\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$sitemap.prvname = \"优惠券\";\r\n    this.$sitemap.currname = \"新增优惠券\";\r\n    this.getCategoryList();\r\n  },\r\n  methods: {\r\n    handleSubmit() {\r\n      console.log(\"this.chosedItem\", this.chosedItem);\r\n      let isvalid = true;\r\n\r\n      this.$refs.couponAdd.validate(valid => {\r\n        isvalid = valid;\r\n      });\r\n      this.$refs.right.validate(valid => {\r\n        if (!valid) {\r\n          isvalid = false;\r\n        }\r\n      });\r\n      if (!isvalid) {\r\n        return;\r\n      }\r\n      let data = this.addData;\r\n      if (data.coupontype == 1 && data.minprice <= 0) {\r\n        this.$Message.error(\"满减券满减金额必须大于0\");\r\n        return;\r\n      }\r\n      if (data.coupontype == 3 && data.uselimit < 1) {\r\n        this.$Message.error(\"每月限制使用张数最少为1\");\r\n        return;\r\n      }\r\n      if (data.couponscene == 2 && data.price <= 0) {\r\n        this.$Message.error(\"优惠券购买金额必须大于0\");\r\n        return;\r\n      }\r\n      if (data.cutprice <= 0) {\r\n        this.$Message.error(\"优惠券金额必须大于0\");\r\n        return;\r\n      }\r\n      if (data.couponscope == 2 && !this.chosedCate.length) {\r\n        this.$Message.error(\"请选择适用的商品分类\");\r\n        return;\r\n      }\r\n      if (data.couponscope == 3 && !this.chosedItem.length) {\r\n        this.$Message.error(\"请选择适用的商品\");\r\n        return;\r\n      }\r\n      if (data.couponnum <= 0) {\r\n        this.$Message.error(\"发放数量不能为0\");\r\n        return;\r\n      }\r\n\r\n      let params = this.formatParams();\r\n      console.log(\"参数\", params);\r\n      this.$http\r\n        .post(this.$api.coupon_add, params)\r\n        .then(res => {\r\n          if (res.data.result == \"1\") {\r\n            this.$Message.success(\"创建成功！\");\r\n            this.$router.push(\"/coupon/list\");\r\n          } else {\r\n            this.$Message.error(res.data.msg);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.$Message.error(\"网络请求错误！\");\r\n        });\r\n    },\r\n    formatParams() {\r\n      let data = this.addData;\r\n      let params = {};\r\n      Object.keys(data).forEach(key => {\r\n        if (key == \"couponscope\") {\r\n          if (data[key] == 2) {\r\n            params.couponcateids = this.chosedCate.join(\",\");\r\n          } else if (data[key] == 3) {\r\n            params.couponitemids = this.chosedItem.join(\",\");\r\n          }\r\n\r\n          params[key] = data[key];\r\n        } else if (key == \"expiretimes\") {\r\n          if (data.isissued == 1) {\r\n            params[key] = data[key];\r\n          }\r\n        } else if (key == \"price\") {\r\n          if (data.couponscene != 2) {\r\n            data[key] = 0;\r\n          }\r\n          params[key] = data[key];\r\n        } else if (key == \"minprice\") {\r\n          if (data.coupontype != 1) {\r\n            data[key] = 0;\r\n          }\r\n          params[key] = data[key];\r\n        } else if (key == \"uselimit\") {\r\n          if(data.coupontype==3) {\r\n            params[key] = data[key]\r\n          }\r\n        }else {\r\n          params[key] = data[key];\r\n        }\r\n      });\r\n      params.remark = this.remark;\r\n      params.couponname = this.couponname;\r\n      return params;\r\n    },\r\n    getCategoryList() {\r\n      let that = this;\r\n      let params = { parentid: 0 };\r\n      this.$http\r\n        .post(this.$api.category_list, params)\r\n        .then(res => {\r\n          if (res.data.result == \"1\") {\r\n            that.cateList = res.data.data ? res.data.data : [];\r\n          } else {\r\n            this.$Message.error(res.data.msg);\r\n          }\r\n        })\r\n        .catch(error => {\r\n          this.$Message.error(\"系统错误\");\r\n          console.log(error);\r\n        });\r\n    },\r\n    handleCateChange(val) {}\r\n  },\r\n  computed: {\r\n    preTitle() {\r\n      let type = this.addData.coupontype;\r\n      return this.typeMap.find(it => it.key == type).value;\r\n    },\r\n    couponname() {\r\n      return this.diyCouponname || this.preTitle;\r\n    },\r\n    remarkTitle() {\r\n      let user = this.addData.usertype;\r\n      if (user == 1) {\r\n        return \"消费金额\";\r\n      } else if (user == 2) {\r\n        return \"首单\";\r\n      }\r\n    },\r\n    remarkMid() {\r\n      let minprice = this.addData.minprice;\r\n      let cutprice = this.addData.cutprice || \"xxx\";\r\n      if (+minprice == 0) {\r\n        return \"立减\" + cutprice + \"元\";\r\n      } else {\r\n        return \"满\" + minprice + \"可用\";\r\n      }\r\n    },\r\n    enddate() {\r\n      if (!this.addData.expiretimes) {\r\n        return \"xxx\";\r\n      } else {\r\n        let day = isNaN(this.addData.expiretimes)\r\n          ? -1\r\n          : +this.addData.expiretimes;\r\n        if (day < 0) {\r\n          return \"日期错误\";\r\n        }\r\n        let res = new Date(Date.parse(this.curdate) + day * 24 * 3600 * 1000);\r\n        res =\r\n          \"\" +\r\n          res.getFullYear() +\r\n          \"/\" +\r\n          (res.getMonth() + 1) +\r\n          \"/\" +\r\n          res.getDate();\r\n        return res;\r\n      }\r\n    },\r\n    needLimited() {\r\n      return true;\r\n    },\r\n    remark() {\r\n      if (this.diyRemark) {\r\n        return this.diyRemark;\r\n      } else {\r\n        return this.remarkTitle + this.remarkMid;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style >\r\n.coupon-main {\r\n  display: flex;\r\n  flex-direction: row;\r\n  /*//flex-wrap: nowrap;*/\r\n}\r\n.coupon-edit {\r\n  min-height: 300px;\r\n  flex: 1;\r\n}\r\n.coupon-preview {\r\n  width: 500px;\r\n  /*height: 300px;*/\r\n  /*background-color: #f1f2f3*/\r\n}\r\n.preview-card {\r\n  margin: 10px;\r\n  width: 360px;\r\n  height: 122px;\r\n  background-color: #fff;\r\n  border: 1px solid #f3f3f3;\r\n  box-shadow: 0px 5px 7px 0px #f3f3f3;\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n.card-left {\r\n  background-color: #f33497;\r\n  height: 100%;\r\n  width: 120px;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.card-money {\r\n  line-height: 60px;\r\n  font-size: 24px;\r\n}\r\n.card-left .col {\r\n  flex: 1;\r\n  color: #fff;\r\n  text-align: center;\r\n}\r\n.card-right .col {\r\n  text-align: center;\r\n}\r\n.card-right {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.card-name,\r\n.card-status {\r\n  height: 30px;\r\n  line-height: 30px;\r\n  font-size: 12px;\r\n}\r\n.card-jc {\r\n  position: absolute;\r\n  height: 120px;\r\n  right: 0;\r\n  top: 0;\r\n}\r\n.right-desc {\r\n  height: 35px;\r\n  line-height: 35px;\r\n}\r\n.right-expires {\r\n  height: 35px;\r\n  line-height: 35px;\r\n  color: #bbb;\r\n}\r\n.right-title {\r\n  flex: 1;\r\n  font-size: 18px;\r\n  line-height: 50px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/sales/coupon/CouponAdd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"padding\":\"10px\"}},[_c('div',{staticClass:\"coupon-main\"},[_c('div',{staticClass:\"coupon-edit\"},[_c('Form',{ref:\"couponAdd\",attrs:{\"model\":_vm.addData,\"label-position\":\"left\",\"rules\":_vm.rules,\"label-width\":120}},[_c('FormItem',{attrs:{\"label\":\"优惠券类型\"}},[_c('Select',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.addData.coupontype),callback:function ($$v) {_vm.$set(_vm.addData, \"coupontype\", $$v)},expression:\"addData.coupontype\"}},_vm._l((_vm.typeMap),function(type){return _c('Option',{key:type.key,attrs:{\"value\":type.key,\"disabled\":!!type.disabled}},[_vm._v(_vm._s(type.value))])}))],1),_vm._v(\" \"),(_vm.addData.coupontype==3)?_c('FormItem',{attrs:{\"label\":\"每月限使用（张）\"}},[_c('InputNumber',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入数量\",\"min\":1},model:{value:(_vm.addData.uselimit),callback:function ($$v) {_vm.$set(_vm.addData, \"uselimit\", $$v)},expression:\"addData.uselimit\"}})],1):_vm._e(),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"适用范围\"}},[_c('Select',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.addData.couponscope),callback:function ($$v) {_vm.$set(_vm.addData, \"couponscope\", $$v)},expression:\"addData.couponscope\"}},_vm._l((_vm.scopeMap),function(scope){return _c('Option',{key:scope.key,attrs:{\"value\":scope.key,\"disabled\":!!scope.disabled}},[_vm._v(_vm._s(scope.value))])})),_vm._v(\" \"),(_vm.addData.couponscope==2)?_c('div',[_vm._v(\"\\n\\t\\t\\t\\t        \\t请选择商品分类：\"),_c('Select',{staticStyle:{\"width\":\"300px\"},attrs:{\"multiple\":\"\"},on:{\"on-change\":_vm.handleCateChange},model:{value:(_vm.chosedCate),callback:function ($$v) {_vm.chosedCate=$$v},expression:\"chosedCate\"}},_vm._l((_vm.cateList),function(cate){return _c('Option',{key:cate.id,attrs:{\"value\":cate.id}},[_vm._v(\"\\n\\t\\t\\t\\t        \\t\\t\\t\"+_vm._s(cate.catename)+\"\\n\\t\\t\\t\\t        \\t\\t\")])}))],1):_vm._e(),_vm._v(\" \"),(_vm.addData.couponscope==3)?_c('div',[_c('multi-item-select',{model:{value:(_vm.chosedItem),callback:function ($$v) {_vm.chosedItem=$$v},expression:\"chosedItem\"}})],1):_vm._e()],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"适用人群\"}},[_c('RadioGroup',{model:{value:(_vm.addData.usertype),callback:function ($$v) {_vm.$set(_vm.addData, \"usertype\", $$v)},expression:\"addData.usertype\"}},_vm._l((_vm.userMap),function(type){return _c('Radio',{key:type.key,staticStyle:{\"margin-right\":\"20px\"},attrs:{\"label\":type.key}},[_vm._v(_vm._s(type.value))])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"获取方式\"}},[_c('Select',{staticStyle:{\"width\":\"300px\"},model:{value:(_vm.addData.couponscene),callback:function ($$v) {_vm.$set(_vm.addData, \"couponscene\", $$v)},expression:\"addData.couponscene\"}},_vm._l((_vm.sceneMap),function(scene){return _c('Option',{key:scene.key,attrs:{\"value\":scene.key,\"disabled\":!!scene.disabled}},[_vm._v(_vm._s(scene.value))])}))],1),_vm._v(\" \"),(_vm.addData.couponscene==2)?_c('FormItem',{attrs:{\"label\":\"购券价格（元）\"}},[_c('InputNumber',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入优惠券价格\",\"min\":0},model:{value:(_vm.addData.price),callback:function ($$v) {_vm.$set(_vm.addData, \"price\", $$v)},expression:\"addData.price\"}})],1):_vm._e(),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"满减金额\"}},[(_vm.addData.coupontype==1)?_c('div',[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t满 \"),_c('InputNumber',{staticStyle:{\"width\":\"200px\"},attrs:{\"min\":0},model:{value:(_vm.addData.minprice),callback:function ($$v) {_vm.$set(_vm.addData, \"minprice\", $$v)},expression:\"addData.minprice\"}}),_vm._v(\" 元可用\\n\\t\\t\\t\\t\\t\\t\")],1):_c('div',{staticStyle:{\"color\":\"#3bc0c3\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t无限制\\n\\t\\t\\t\\t\\t\\t\")])]),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"优惠方式\"}},[_c('RadioGroup',{model:{value:(_vm.addData.couponmodel),callback:function ($$v) {_vm.$set(_vm.addData, \"couponmodel\", $$v)},expression:\"addData.couponmodel\"}},_vm._l((_vm.modelMap),function(model){return _c('Radio',{key:model.key,staticStyle:{\"margin-right\":\"20px\"},attrs:{\"label\":model.key,\"disabled\":!!model.disabled}},[_vm._v(_vm._s(model.value))])}))],1),_vm._v(\" \"),(_vm.addData.couponmodel==2)?_c('FormItem',{attrs:{\"label\":\"折扣（%）\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"0-100的数字，20代表8折\"},model:{value:(_vm.addData.cutprice),callback:function ($$v) {_vm.$set(_vm.addData, \"cutprice\", $$v)},expression:\"addData.cutprice\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.addData.couponmodel==1)?_c('FormItem',{attrs:{\"label\":\"优惠金额（元）\"}},[_c('InputNumber',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"优惠券能金额\",\"min\":0},model:{value:(_vm.addData.cutprice),callback:function ($$v) {_vm.$set(_vm.addData, \"cutprice\", $$v)},expression:\"addData.cutprice\"}})],1):_vm._e(),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"有效时长（天）\"}},[_c('InputNumber',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"优惠券的有效期\",\"min\":0},model:{value:(_vm.addData.duration),callback:function ($$v) {_vm.$set(_vm.addData, \"duration\", $$v)},expression:\"addData.duration\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"10px\",\"color\":\"#ccc\",\"font-size\":\"14px\"}},[_vm._v(\"领券后多少天内可用，0代表不限制\")])],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"每人限领（张）\"}},[_c('InputNumber',{staticStyle:{\"width\":\"200px\"},attrs:{\"min\":0},model:{value:(_vm.addData.maxnum),callback:function ($$v) {_vm.$set(_vm.addData, \"maxnum\", $$v)},expression:\"addData.maxnum\"}}),_c('span',{staticStyle:{\"margin-left\":\"10px\",\"color\":\"#ccc\",\"font-size\":\"14px\"}},[_vm._v(\"0代表不限制每人张数\")])],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"发放总数（张）\"}},[_c('InputNumber',{staticStyle:{\"width\":\"200px\"},attrs:{\"min\":1},model:{value:(_vm.addData.couponnum),callback:function ($$v) {_vm.$set(_vm.addData, \"couponnum\", $$v)},expression:\"addData.couponnum\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"是否立即投放\"}},[_c('RadioGroup',{model:{value:(_vm.addData.isissued),callback:function ($$v) {_vm.$set(_vm.addData, \"isissued\", $$v)},expression:\"addData.isissued\"}},[_c('Radio',{staticStyle:{\"margin-right\":\"20px\"},attrs:{\"label\":0}},[_vm._v(\"暂不投放\")]),_vm._v(\" \"),_c('Radio',{staticStyle:{\"margin-right\":\"20px\"},attrs:{\"label\":1}},[_vm._v(\"立即投放\")])],1)],1),_vm._v(\" \"),(_vm.addData.isissued==1)?_c('FormItem',{attrs:{\"label\":\"活动时长\"}},[_c('InputNumber',{staticStyle:{\"width\":\"200px\"},attrs:{\"min\":1},model:{value:(_vm.addData.expiretimes),callback:function ($$v) {_vm.$set(_vm.addData, \"expiretimes\", $$v)},expression:\"addData.expiretimes\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"10px\",\"color\":\"#ccc\",\"font-size\":\"14px\"}},[_vm._v(\"优惠券投放天数，最小为1\")])],1):_vm._e(),_vm._v(\" \"),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"提交保存\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"coupon-preview\"},[_c('div',{staticClass:\"preview-card\"},[_c('div',{staticClass:\"card-left\"},[_c('img',{staticClass:\"card-jc\",attrs:{\"src\":\"/static/images/card-jc.png\"}}),_vm._v(\" \"),(_vm.addData.brandname)?_c('div',{staticClass:\"card-name col\"},[_vm._v(_vm._s(_vm.addData.brandname))]):_c('div',{staticClass:\"card-name col\",staticStyle:{\"border\":\"1px dashed\",\"color\":\"#ccc\"}},[_vm._v(\"店铺简称\")]),_vm._v(\" \"),_c('div',{staticClass:\"card-money col\"},[_c('span',{staticStyle:{\"font-size\":\"18px\"}},[_vm._v(\"￥\")]),_vm._v(\" \"),(_vm.addData.cutprice)?_c('span',[_vm._v(\"\\t\"+_vm._s(_vm.addData.cutprice))]):_c('span',{staticStyle:{\"border\":\"1px dashed\",\"color\":\"#ccc\",\"font-size\":\"14px\"}},[_vm._v(\"优惠金额\\t\")])]),_vm._v(\" \"),_c('div',{staticClass:\"card-status col\"},[_vm._v(\"未使用\")])]),_vm._v(\" \"),_c('div',{staticClass:\"card-right\"},[_c('div',{staticClass:\"right-title col\"},[_vm._v(_vm._s(_vm.couponname))]),_vm._v(\" \"),_c('div',{staticClass:\"right-desc col\"},[_c('span',[_vm._v(_vm._s(_vm.remark))])]),_vm._v(\" \"),_vm._m(0)])]),_vm._v(\" \"),_c('div',[_c('Form',{ref:\"right\",attrs:{\"label-position\":\"left\",\"rules\":_vm.rules,\"label-width\":120,\"model\":_vm.addData}},[_c('FormItem',{attrs:{\"label\":\"店铺简称\",\"prop\":\"brandname\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.addData.brandname),callback:function ($$v) {_vm.$set(_vm.addData, \"brandname\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addData.brandname\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"优惠券名称\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.diyCouponname),callback:function ($$v) {_vm.diyCouponname=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"diyCouponname\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"优惠券副标题\"}},[_c('Input',{staticStyle:{\"width\":\"200px\"},attrs:{\"readonly\":\"\"},model:{value:(_vm.remark),callback:function ($$v) {_vm.remark=$$v},expression:\"remark\"}}),_vm._v(\" \"),_c('Button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.showDiy=!_vm.showDiy}}},[_vm._v(_vm._s(_vm.showDiy?'取消':'自定义'))])],1),_vm._v(\" \"),(_vm.showDiy)?_c('FormItem',[_c('Input',{staticStyle:{\"width\":\"200px\"},model:{value:(_vm.diyRemark),callback:function ($$v) {_vm.diyRemark=$$v},expression:\"diyRemark\"}}),_vm._v(\" \"),_c('Button',{attrs:{\"size\":\"small\"}},[_vm._v(\"确定\")]),_c('Button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"size\":\"small\"}},[_vm._v(\"清空\")])],1):_vm._e()],1)],1)])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"right-expires col\"},[_c('span',[_vm._v(\"xxx\")]),_vm._v(\"至\"),_c('span',[_vm._v(\"xxx\")]),_vm._v(\"有效\")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-53132a7b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/sales/coupon/CouponAdd.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-53132a7b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CouponAdd.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CouponAdd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CouponAdd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-53132a7b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CouponAdd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/sales/coupon/CouponAdd.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}