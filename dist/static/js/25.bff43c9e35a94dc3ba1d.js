webpackJsonp([25],{"//k/":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("fZjL"),i=s.n(a),l={data:function(){return{sales:{itemmodel:"3",itemid:"",price:0,ishidden:0},originalNum:0,rules:{itemid:[{validator:function(e,t,s){""===t&&s(new Error("请选择商品")),s()},trigger:"blur"}],price:[{validator:function(e,t,s){""!==t&&null!==t||s(new Error("请输入金额")),s()},trigger:"blur"}]}}},mounted:function(){this.$sitemap.prvname="营销活动",this.$sitemap.currname="新建积分商品"},methods:{handleSelect:function(e){this.originalNum=e.num},formatData:function(){var e={},t=this;return i()(t.sales).forEach(function(s){e[s]=t.sales[s]}),e},handleSave:function(e){var t=this,s=this;s.$refs[e].validate(function(e){e?t.$http.post(t.$api.item_editmodel,s.formatData()).then(function(e){1==e.data.result?(s.$Message.success("添加成功"),s.$router.push("/points/list")):s.$Message.error(e.data.msg)}).catch(function(e){s.$Message.error("服务器异常")}):s.$Message.error("请核对信息")})},cancel:function(){this.$router.push("/points/list")}}},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{padding:"20px"}},[s("Form",{ref:"sales",attrs:{model:e.sales,rules:e.rules,"label-position":"left","label-width":120}},[s("FormItem",{attrs:{label:"活动类型"}},[s("Select",{staticClass:"formItem",attrs:{disabled:""},model:{value:e.sales.itemmodel,callback:function(t){e.$set(e.sales,"itemmodel",t)},expression:"sales.itemmodel"}},[s("Option",{attrs:{value:"3"}},[e._v("积分商品")])],1)],1),e._v(" "),s("FormItem",{attrs:{label:"活动商品",prop:"itemid"}},[s("item-select",{on:{"on-selected":e.handleSelect},model:{value:e.sales.itemid,callback:function(t){e.$set(e.sales,"itemid",t)},expression:"sales.itemid"}})],1),e._v(" "),s("FormItem",{attrs:{label:"活动积分",prop:"price"}},[s("InputNumber",{staticClass:"formItem",attrs:{placeholder:"请输入活动价格",min:0},model:{value:e.sales.price,callback:function(t){e.$set(e.sales,"price",t)},expression:"sales.price"}})],1),e._v(" "),s("FormItem",{attrs:{label:"原始库存"}},[s("Input",{staticClass:"formItem",attrs:{disabled:""},model:{value:e.originalNum,callback:function(t){e.originalNum=t},expression:"originalNum"}})],1),e._v(" "),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSave("sales")}}},[e._v("\n        保存创建\n      ")]),e._v(" "),s("Button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var n=s("VU/8")(l,r,!1,function(e){s("zuRb")},null,null);t.default=n.exports},zuRb:function(e,t){}});
//# sourceMappingURL=25.bff43c9e35a94dc3ba1d.js.map