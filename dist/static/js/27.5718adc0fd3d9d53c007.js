webpackJsonp([27],{d1Kn:function(t,e){},kmOg:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"20px"}},[a("div",{staticStyle:{"margin-bottom":"15px",display:"flex","justify-content":"space-between"}},[a("div",[a("Button",{attrs:{type:"primary",icon:"ios-plus-empty"},on:{click:t.handleStoreAdd}},[t._v("\n        添加店铺\n      ")])],1),t._v(" "),a("div",[a("div",{staticClass:"select-wrapper"},[a("Input",{attrs:{placeholder:"请输入店铺名"},model:{value:t.page.keywords,callback:function(e){t.$set(t.page,"keywords",e)},expression:"page.keywords"}})],1),t._v(" "),a("div",{staticClass:"select-wrapper"},[a("Input",{attrs:{placeholder:"请输入手机号"},model:{value:t.page.telphone,callback:function(e){t.$set(t.page,"telphone",e)},expression:"page.telphone"}})],1),t._v(" "),a("div",{staticClass:"select-wrapper"},[a("Button",{staticClass:"fl-btn",attrs:{type:"ghost"},on:{click:t.getData}},[t._v("查询")])],1)])]),t._v(" "),a("Table",{attrs:{loading:t.loading,border:"",columns:t.columns4,data:t.tableData}}),t._v(" "),a("div",{staticStyle:{"margin-top":"15px",overflow:"hidden"}},[a("div",{staticStyle:{float:"left"}}),t._v(" "),a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:t.totalcount,"page-size":t.page.pagesize,"page-size-opts":[10,20,30,40],"show-elevator":"","show-sizer":"",placement:"top","show-total":""},on:{"on-change":t.indexChange,"on-page-size-change":t.sizeChange}})],1)]),t._v(" "),a("Modal",{attrs:{fullscreen:"",title:"删除确认"},on:{"on-ok":t.updateConfirm},model:{value:t.showConfirm,callback:function(e){t.showConfirm=e},expression:"showConfirm"}},[a("div",[t._v("确定删除该店铺吗?")])])],1)},staticRenderFns:[]};var n=a("VU/8")({data:function(){var t=this;return{loading:!1,page:{pageindex:0,pagesize:10,keywords:"",telphone:""},totalcount:0,columns4:[{title:"#",width:60,align:"center",render:function(e,a){return a.index+t.page.pageindex*t.page.pagesize+1}},{title:"店铺图片",width:100,align:"center",render:function(t,e){return e.row.picture?t("img",{attrs:{src:e.row.picture,style:"width: 70px;height: 70px;border-radius: 5px;vertical-align: middle;margin:5px 0;"}}):t("div",{attrs:{style:"width: 70px;height: 70px;border:1px solid #666;margin:5px 0;vertical-align: middle;display:inline-block"}})}},{title:"店铺名称",minWidth:150,key:"name",align:"center"},{title:"店铺账号",minWidth:150,key:"managername",align:"center"},{title:"管理员手机号",width:150,key:"telphone",align:"center"},{title:"店铺邀请码",width:150,key:"incode",align:"center"},{title:"创建日期",key:"createtime",width:180,align:"center"},{title:"操作",key:"action",width:180,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary"},style:{marginRight:"5px"},on:{click:function(){t.$router.push({path:"/store/detail",query:{id:a.row.id}})}}},"详情"),e("Button",{props:{type:"warning"},on:{click:function(){t.updateForm.storeid=a.row.id,t.showConfirm=!0}}},"删除")])}}],tableData:[],showConfirm:!1,updateForm:{storeid:"",ishidden:1}}},mounted:function(){var t=this;this.$sitemap.prvname="店铺管理",this.$sitemap.currname="店铺列表",this.$menuactive.open=["StoreBlock"],this.$menuactive.active="StoreApply",this.$Loading.start(),this.getData().then(function(){t.$Loading.finish()})},methods:{handleStoreAdd:function(){this.$router.push("/store/add")},getData:function(){var t=this;return this.loading=!0,this.$http.post(this.$api.store_list,this.page).then(function(e){"1"==e.data.result&&e.data.data?(t.tableData=e.data.data,t.totalcount=+e.data.totalcount):t.$Message.error(e.data.msg)}).catch(function(e){t.$Message.error("服务器异常")}).then(function(){t.loading=!1})},indexChange:function(t){this.page.pageindex=t-1,this.getData()},sizeChange:function(t){this.page.pagesize=t,this.getData()},updateConfirm:function(){var t=this;this.$http.post(this.$api.store_update,this.updateForm).then(function(e){"1"==e.data.result?(t.$Message.success("删除成功"),t.getData()):t.$Message.error(e.data.msg)}).catch(function(e){t.$Message.error("服务器异常")})}}},i,!1,function(t){a("d1Kn")},"data-v-319b145e",null);e.default=n.exports}});
//# sourceMappingURL=27.5718adc0fd3d9d53c007.js.map