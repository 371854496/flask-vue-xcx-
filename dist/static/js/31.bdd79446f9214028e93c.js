webpackJsonp([31],{UY73:function(t,e){},mnEp:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){var t=this;return{currrowid:0,showConfirm:!1,totalrecord:0,loading:!0,page:{pagesize:10,pageindex:0},articletypecolumns:[{title:"#",width:60,align:"center",render:function(e,i){return i.index+t.page.pagesize*t.page.pageindex+1}},{title:"分类名称",key:"name",align:"center"},{title:"排序数值",key:"sortvalue",align:"center"},{title:"修改日期",key:"updatetime",align:"center"},{title:"操作",key:"action",width:150,align:"center",render:function(e,i){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.showPage(i.row.id)}}},"查看"),e("Button",{props:{type:"warning",size:"small"},on:{click:function(){t.showConfirm=!0,t.currrowid=i.row.id}}},"删除")])}}],articletypedata:[]}},mounted:function(){this.$sitemap.prvname="内容分类",this.$sitemap.currname="分类列表",this.$menuactive.open=["ArticleBlock"],this.$menuactive.active="ArticletypeList",this.$Loading.start(),this.getArticleTypeList()},watch:{page:{handler:function(t){this.getArticleTypeList()},deep:!0}},methods:{indexChange:function(t){this.page.pageindex=t-1},sizeChange:function(t){this.page.pagesize=t},getArticleTypeList:function(){var t=this;t.loading=!0,this.$http.post("articletype/list",this.page).then(function(e){t.articletypedata=e.data.data,t.loading=!1,t.$Loading.finish(),t.totalrecord=+e.data.totalcount}).catch(function(e){t.loading=!1,t.$Loading.error()})},handleAddArticleType:function(){this.$router.push({path:"/articletype/add"})},showPage:function(t){this.$router.push({path:"/articletype/edit",query:{id:t}})},delRow:function(){var t=this,e={typeid:this.currrowid};this.$http.post("articletype/del",e).then(function(e){1==e.data.data?(t.$Message.success("删除成功!"),t.getArticleTypeList()):t.$Message.error("删除失败，请检查！")}).catch(function(e){t.$Message.error(error)})}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{padding:"20px"}},[i("div",{staticStyle:{"margin-bottom":"15px",overflow:"hidden"}},[i("div",{staticStyle:{float:"left"}},[i("Button",{attrs:{type:"primary",icon:"ios-plus-empty"},on:{click:t.handleAddArticleType}},[t._v("\n        添加分类\n      ")])],1),t._v(" "),i("div",{staticStyle:{float:"right"}})]),t._v(" "),i("Table",{ref:"selection",attrs:{loading:t.loading,border:"",columns:t.articletypecolumns,data:t.articletypedata}}),t._v(" "),i("div",{staticStyle:{"margin-top":"15px",overflow:"hidden"}},[i("div",{staticStyle:{float:"left"}}),t._v(" "),i("div",{staticStyle:{float:"right"}},[i("Page",{attrs:{total:t.totalrecord,"page-size":t.page.pagesize,"page-size-opts":[10,20,30,40],"show-elevator":"","show-sizer":"",placement:"top","show-total":""},on:{"on-change":t.indexChange,"on-page-size-change":t.sizeChange}})],1)]),t._v(" "),i("Modal",{attrs:{title:"确认提示",width:"300","class-name":"vertical-center-modal"},on:{"on-ok":t.delRow},model:{value:t.showConfirm,callback:function(e){t.showConfirm=e},expression:"showConfirm"}},[i("p",{staticStyle:{"font-size":"14px"}},[t._v("确认要删除该条记录吗？")])])],1)},staticRenderFns:[]};var o=i("VU/8")(a,n,!1,function(t){i("UY73")},null,null);e.default=o.exports}});
//# sourceMappingURL=31.bdd79446f9214028e93c.js.map