{"version":3,"sources":["webpack:///src/components/order/OrderList.vue","webpack:///./src/components/order/OrderList.vue?36f7","webpack:///./src/components/order/OrderList.vue"],"names":["OrderList","_this","this","Date","end","now","paystatus","orderid","_this2","start","finish","name","resetFields","key","extends_default","that","page","orderForm","totalcount","msg","size","getOrderList","order_OrderList","render","_vm","_h","$createElement","_c","_self","staticStyle","padding","overflow","width","ref","attrs","label-width","label-position","model","gutter","span","label","prop","type","options","dateOption","split-panels","placeholder","value","callback","$$v","$set","expression","_v","margin-right","on","click","$event","handleReset","status","on-click","handlerTabChange","_l","item","min-width","loading","tableLoading","border","columns","itemcolumns","data","itemdata","no-data-text","margin-top","float","total","page-size","pagesize","page-size-opts","show-elevator","show-sizer","placement","show-total","on-change","indexChange","on-page-size-change","sizeChange","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/36.cefdeca2396481ef93d0.js","sourcesContent":["<template>\r\n  <div style=\"padding:20px;overflow:auto\">\r\n    <div style=\"width: 900px;\">\r\n      <Form :label-width=\"80\" label-position=\"left\" ref=\"orderForm\" :model=\"orderForm\">\r\n          <Row :gutter=\"20\">\r\n            <Col span=\"16\">\r\n              <FormItem label=\"创建时间\" prop=\"date\">\r\n                <DatePicker type=\"datetimerange\" :options=\"dateOption\" split-panels placeholder=\"选择时间\" v-model=\"orderForm.date\"\r\n                  style=\"width: 100%\"></DatePicker>\r\n              </FormItem>\r\n            </Col>\r\n            <Col span=\"8\">\r\n              <FormItem label=\"收货姓名\" prop=\"realname\">\r\n                <Input placeholder=\"请输入收货人姓名\" v-model=\"orderForm.realname\"></Input>\r\n              </FormItem>\r\n            </Col>\r\n          </Row>\r\n          <Row :gutter=\"20\">\r\n            <Col span=\"16\">\r\n              <FormItem label=\"订单编号\" prop=\"orderid\">\r\n                <Input v-model=\"orderForm.orderid\" placeholder=\"请输入订单编号\"></Input>\r\n              </FormItem>\r\n            </Col>\r\n            <!-- <Col span=\"8\">\r\n              <FormItem label=\"联系电话\" prop=\"telephone\">\r\n                <Input placeholder=\"请输入联系电话\" v-model=\"orderForm.telephone\"></Input>\r\n              </FormItem>\r\n            </Col> -->\r\n          </Row>\r\n        <FormItem>\r\n          <Button type=\"primary\" style='width:100px;margin-right:20px;' @click=\"getOrderList\">查询</Button>\r\n          <Button type=\"ghost\" style='width:100px;' @click=\"handleReset('orderForm')\">重置</Button>\r\n        </FormItem>\r\n      </Form>\r\n    </div>\r\n    <Tabs size=\"small\" type=\"card\" :value='page.status' @on-click='handlerTabChange'>\r\n      <TabPane v-for='item of orderstatus' :label='item.label' :name='item.value' :key='item.value'></TabPane>\r\n    </Tabs>\r\n    <div style=\"min-width:900px\">\r\n      <Table :loading=\"tableLoading\"  border :columns=\"itemcolumns\" :data=\"itemdata\"\r\n        no-data-text='未找到相关订单'></Table>\r\n    </div>\r\n    <div style=\"margin-top: 15px;overflow: hidden\">\r\n      <div style=\"float: right;\">\r\n        <Page :total=\"totalcount\" :page-size=\"page.pagesize\" :page-size-opts=\"[10,20,30,40]\" show-elevator show-sizer\r\n          placement=\"top\" show-total @on-change='indexChange' @on-page-size-change='sizeChange'></Page>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        //日期选择设置\r\n        dateOption: {\r\n          shortcuts: [\r\n            {\r\n              text: '一周',\r\n              value () {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\r\n                return [start, end];\r\n              }\r\n            },\r\n            {\r\n              text: '1个月',\r\n              value () {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\r\n                return [start, end];\r\n              }\r\n            },\r\n            {\r\n              text: '3个月',\r\n              value () {\r\n                const end = new Date();\r\n                const start = new Date();\r\n                start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\r\n                return [start, end];\r\n              }\r\n            }\r\n          ],\r\n          disabledDate (date) {\r\n            return date && date.valueOf() >Date.now();\r\n          }\r\n        },\r\n        //订单状态\r\n        orderstatus: [\r\n          {\r\n            value: '-1',\r\n            label: '全部'\r\n          }, {\r\n            value: '0',\r\n            label: '未支付'\r\n          },\r\n          {\r\n            value: '1',\r\n            label: '待发货'\r\n          },\r\n          {\r\n            value: '2',\r\n            label: '已发货'\r\n          }, {\r\n            value: '3',\r\n            label: '待评价',\r\n          },  {\r\n            value: '5',\r\n            label: '已取消'\r\n          },{\r\n            value: '4',\r\n            label: '已完成',\r\n          }\r\n        ],\r\n        orderForm: {\r\n          ordermodel:-1,\r\n          date:[],\r\n          realname:'',\r\n          orderid:'',\r\n          telephone:'',\r\n        },\r\n        page: {\r\n          pageindex: 0,\r\n          pagesize: 10,\r\n          status: '-1'\r\n        },\r\n        payTypeObj:{\r\n            '1':'微信',\r\n            '2':'积分',\r\n            '3':'钱包'\r\n        },\r\n        totalcount: 0,\r\n        tableLoading: false,\r\n        itemcolumns: [\r\n          {\r\n            title: '#',\r\n            width: 60,\r\n            align: 'center',\r\n            render:(h,params)=>{\r\n              return params.index+this.page.pageindex*this.page.pagesize+1;\r\n            }\r\n          },\r\n          {\r\n            title: '订单编号',\r\n            key: 'orderid',\r\n            minWidth: 200,\r\n            align: 'center',\r\n          },\r\n          {\r\n            title: '收货人姓名',\r\n            width: 120,\r\n            key: 'realname',\r\n            align: 'center',\r\n          },\r\n          {\r\n            title: '收货人手机号',\r\n            key: 'telephone',\r\n            width: 130,\r\n            align: 'center',\r\n          },\r\n          // {\r\n          //   title: '支付方式',\r\n          //   width: 120,\r\n          //   align: 'center',\r\n          //   render:(n,params)=>{\r\n          //     return this.payTypeObj[params.row.paytype]||'';\r\n          //   }\r\n          // },\r\n          {\r\n            title: '金额',\r\n            key: 'amount',\r\n            width: 100,\r\n            align: 'center',\r\n          },\r\n          {\r\n            title: '订单状态',\r\n            key: 'paystatus',\r\n            width: 100,\r\n            align: 'center',\r\n            render: (h, params) => {\r\n              let filter = this.orderstatus.find(it => it.value == '' + params.row.paystatus)\r\n              let text = filter ? filter.label : ''\r\n              return h('span', text)\r\n            }\r\n          },\r\n          {\r\n            title: '创建日期',\r\n            key: 'createtime',\r\n            width: 200,\r\n            align: 'center',\r\n          },\r\n          {\r\n            title: '操作',\r\n            key: 'action',\r\n            width: 120,\r\n            align: 'center',\r\n            render: (h, params) => {\r\n              return h('div', [\r\n                h('Button', {\r\n                  props: {\r\n                    type: 'primary',\r\n                    size: 'small'\r\n                  },\r\n                  style: {\r\n                    marginRight: '5px'\r\n                  },\r\n                  on: {\r\n                    click: () => {\r\n                      this.$router.push({\r\n                        path: '/order/detail',\r\n                        query: {orderid: params.row.orderid}\r\n                      })\r\n                    }\r\n                  }\r\n                }, '查看详情'),\r\n\r\n              ]);\r\n            }\r\n          }\r\n        ],\r\n        itemdata: []\r\n      }\r\n    },\r\n    mounted() {\r\n      this.$sitemap.prvname = \"订单管理\";\r\n      this.$sitemap.currname = '订单列表'\r\n      this.$menuactive.open = ['OrderBlock'];\r\n      this.$menuactive.active = 'OrderList';\r\n      this.$Loading.start();\r\n      this.getOrderList().then(() => {\r\n        this.$Loading.finish();\r\n      });\r\n    },\r\n    methods: {\r\n      //tab切换\r\n      handlerTabChange(name) {\r\n        this.page.status = name;\r\n        this.page.pageindex = 0;\r\n      },\r\n      //重置表单\r\n      handleReset (name) {\r\n        this.$refs[name].resetFields();\r\n      },\r\n      //格式化表单数据\r\n      formatDate(){\r\n        let that=this;\r\n        let orderForm={};\r\n        Object.keys(that.orderForm).forEach(key=>{\r\n            switch (key){\r\n              case 'date':\r\n                if(that.orderForm[key][0]!==''&&that.orderForm[key][1]!==''){\r\n                    orderForm.starttime=Date.parse(that.orderForm[key][0])/1000;\r\n                    orderForm.endtime=Date.parse(that.orderForm[key][1])/1000;\r\n                }\r\n                break;\r\n              default:\r\n                orderForm[key]=that.orderForm[key];\r\n                break;\r\n            }\r\n        });\r\n        return {\r\n          ...that.page,\r\n          ...orderForm\r\n        };\r\n      },\r\n      //获取list\r\n      getOrderList() {\r\n        let that = this;\r\n        this.tableLoading = true;\r\n        return this.$http.post(this.$api.order_list, that.formatDate()).then((res) => {\r\n          if(res.data.result==1&&res.data.data){\r\n            that.itemdata = res.data.data ? res.data.data : [];\r\n            that.totalcount = +res.data.totalcount\r\n          }else{\r\n            that.$Message.error(res.data.msg);\r\n          }\r\n        }).catch(erro => {\r\n          that.$Message.error('服务器异常')\r\n        }).then(() => {\r\n          that.tableLoading = false;\r\n        })\r\n      },\r\n      //页码切换\r\n      indexChange(index) {\r\n        this.page.pageindex = index - 1;\r\n      },\r\n      sizeChange(size) {\r\n        this.page.pagesize = size;\r\n      }\r\n    },\r\n    watch: {\r\n      page: {\r\n        handler(newval, oldval) {\r\n          this.getOrderList();\r\n        },\r\n        deep: true,\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style scoped>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/order/OrderList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"padding\":\"20px\",\"overflow\":\"auto\"}},[_c('div',{staticStyle:{\"width\":\"900px\"}},[_c('Form',{ref:\"orderForm\",attrs:{\"label-width\":80,\"label-position\":\"left\",\"model\":_vm.orderForm}},[_c('Row',{attrs:{\"gutter\":20}},[_c('Col',{attrs:{\"span\":\"16\"}},[_c('FormItem',{attrs:{\"label\":\"创建时间\",\"prop\":\"date\"}},[_c('DatePicker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"datetimerange\",\"options\":_vm.dateOption,\"split-panels\":\"\",\"placeholder\":\"选择时间\"},model:{value:(_vm.orderForm.date),callback:function ($$v) {_vm.$set(_vm.orderForm, \"date\", $$v)},expression:\"orderForm.date\"}})],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"8\"}},[_c('FormItem',{attrs:{\"label\":\"收货姓名\",\"prop\":\"realname\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入收货人姓名\"},model:{value:(_vm.orderForm.realname),callback:function ($$v) {_vm.$set(_vm.orderForm, \"realname\", $$v)},expression:\"orderForm.realname\"}})],1)],1)],1),_vm._v(\" \"),_c('Row',{attrs:{\"gutter\":20}},[_c('Col',{attrs:{\"span\":\"16\"}},[_c('FormItem',{attrs:{\"label\":\"订单编号\",\"prop\":\"orderid\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入订单编号\"},model:{value:(_vm.orderForm.orderid),callback:function ($$v) {_vm.$set(_vm.orderForm, \"orderid\", $$v)},expression:\"orderForm.orderid\"}})],1)],1)],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{staticStyle:{\"width\":\"100px\",\"margin-right\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.getOrderList}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"width\":\"100px\"},attrs:{\"type\":\"ghost\"},on:{\"click\":function($event){_vm.handleReset('orderForm')}}},[_vm._v(\"重置\")])],1)],1)],1),_vm._v(\" \"),_c('Tabs',{attrs:{\"size\":\"small\",\"type\":\"card\",\"value\":_vm.page.status},on:{\"on-click\":_vm.handlerTabChange}},_vm._l((_vm.orderstatus),function(item){return _c('TabPane',{key:item.value,attrs:{\"label\":item.label,\"name\":item.value}})})),_vm._v(\" \"),_c('div',{staticStyle:{\"min-width\":\"900px\"}},[_c('Table',{attrs:{\"loading\":_vm.tableLoading,\"border\":\"\",\"columns\":_vm.itemcolumns,\"data\":_vm.itemdata,\"no-data-text\":\"未找到相关订单\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"15px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.totalcount,\"page-size\":_vm.page.pagesize,\"page-size-opts\":[10,20,30,40],\"show-elevator\":\"\",\"show-sizer\":\"\",\"placement\":\"top\",\"show-total\":\"\"},on:{\"on-change\":_vm.indexChange,\"on-page-size-change\":_vm.sizeChange}})],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-011fc920\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/order/OrderList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-011fc920\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./OrderList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrderList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./OrderList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-011fc920\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./OrderList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-011fc920\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/order/OrderList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}